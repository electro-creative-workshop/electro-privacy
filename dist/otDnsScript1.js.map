{"version":3,"file":"otDnsScript1.js","mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAO,CAAC,GAAwB;AACnD,mBAAmB,mBAAO,CAAC,GAAwB;;AAEnD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACqD;;AAErD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC,4EAA4E;;AAE7G;AACA;AACA;AACA;AACA,iCAAiC,4EAA4E;AAC7G;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mCAAmC,mDAAmD;AACtF,oCAAoC,4EAA4E;;AAEhH,mBAAmB,gBAAgB,gBAAgB,yBAAyB,MAAM,GAAG,aAAa;AAClG;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,2BAA2B,6BAA6B,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,iCAAiC,GAAG;;AAE7J;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C,oBAAoB,gBAAgB;AAClF;AACA;AACA;;AAEA;AACA,8DAA8D,6BAA6B;AAC3F;AACA;AACA,MAAM;AACN,gDAAgD,oBAAoB,gBAAgB;AACpF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,6EAAiB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uFAAuF,WAAW,uBAAuB,iBAAiB;;AAE1I;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,6EAAiB;;AAEnF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,aAAa;AACb;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,2FAA2F,6EAAiB,SAAS,6EAAiB;AACtI,aAAa;;AAEb;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;;;;;;UC/OA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;ACNA;AACqD;;;AAGrD;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,2BAA2B,6EAAiB;AAC5C,2BAA2B,6EAAiB;AAC5C,2BAA2B,6EAAiB;AAC5C,uBAAuB,6EAAiB;AACxC,kCAAkC,6EAAiB;AACnD,iCAAiC,6EAAiB;AAClD,mCAAmC,6EAAiB;AACpD,mCAAmC,6EAAiB;;AAEpD;AACA;AACA,8DAA8D;AAC9D,sDAAsD,IAAI,WAAW;AACrE;AACA,qBAAqB,WAAW;AAChC,oEAAoE,yBAAyB;AAC7F,4CAA4C;AAC5C,qFAAqF;AACrF,wEAAwE,cAAc,kCAAkC,8BAA8B,OAAO;AAC7J;AACA;AACA;AACA,qBAAqB,kBAAkB;AACvC;AACA;AACA,8CAA8C,2BAA2B,IAAI,iBAAiB;AAC9F;AACA,qBAAqB,mBAAmB;AACxC;AACA,qBAAqB,mBAAmB;AACxC;AACA;;AAEA,iCAAiC,6EAAiB;AAClD,qCAAqC,6EAAiB;;AAEtD;AACA;AACA,8CAA8C,2BAA2B,IAAI,iBAAiB;AAC9F;AACA,qBAAqB,qBAAqB;AAC1C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,uEAAuE,WAAW,uBAAuB,iBAAiB;AAC1H;AACA;AACA;;AAEA;;AAEA;AACA,cAAc,8FAAsD;AACpE;AACA;;;;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA","sources":["webpack://electro-privacy/./src/js/language-support.js","webpack://electro-privacy/./src/js/ot-dns-script-2.js","webpack://electro-privacy/webpack/bootstrap","webpack://electro-privacy/webpack/runtime/define property getters","webpack://electro-privacy/webpack/runtime/hasOwnProperty shorthand","webpack://electro-privacy/webpack/runtime/make namespace object","webpack://electro-privacy/./src/js/ot-dns-script-1.js"],"sourcesContent":["/**\n * support for handling langs\n *   English & Spanish by default\n *   Others need to be setup by client in window.ElectroPrivacyLanguageMap\n */\n\nconst englishMap = require('../language/en-US.json');\nconst spanishMap = require('../language/es-US.json');\n\nwindow.ElectroPrivacyLanguageMap = {\n    ...window.ElectroPrivacyLanguageMap,\n    en: englishMap,\n    es: spanishMap,\n};\n\n// console.log('languageMap keys', Object.keys(window.ElectroPrivacyLanguageMap));\n\nlet stringMap = window.ElectroPrivacyLanguageMap['en'];\n\n// use html lang attribute to determine strings to use\nconst languageAttribute = document.documentElement.getAttribute('lang');\nif (languageAttribute) {\n    if (window.ElectroPrivacyLanguageMap[languageAttribute]) {\n        stringMap = window.ElectroPrivacyLanguageMap[languageAttribute];\n    } else {\n        const language = languageAttribute.split('-')[0];\n        if (window.ElectroPrivacyLanguageMap[language]) {\n            stringMap = window.ElectroPrivacyLanguageMap[language];\n        }\n    }\n}\n\nexport function getLanguageString(strName)\n{\n    if (stringMap[strName]) {\n        return stringMap[strName];\n    }\n    return strName;\n}\n","// / /////////////////////////////////////////////\n//  Do Not Share script part two\n// / /////////////////////////////////////////////\nimport {getLanguageString} from \"./language-support\";\n\n// Define variables\nlet otDataSubjectId;\nlet dnsUI = false;\n\n// Collection Point Information\nlet url = 'https://privacyportal.onetrust.com/request/v1/consentreceipts';\nlet token =\n    '\"eyJhbGciOiJSUzUxMiJ9.eyJvdEp3dFZlcnNpb24iOjEsInByb2Nlc3NJZCI6ImUxNDMwZTBkLWUzNTgtNGQ4NC1hNGViLTVmMjI3OTRmZGQwZCIsInByb2Nlc3NWZXJzaW9uIjoxLCJpYXQiOiIyMDIyLTEyLTA5VDE3OjQxOjAxLjg4IiwibW9jIjoiQVBJIiwicG9saWN5X3VyaSI6bnVsbCwic3ViIjoiRW1haWwiLCJpc3MiOm51bGwsInRlbmFudElkIjoiNjVjYTZiNDYtNzBiMS00ZWUxLTkwNzQtN2E2M2U4MDBlYTRjIiwiZGVzY3JpcHRpb24iOiJFbmRwb2ludCBmb3Igd2ViIG1vZGFscyIsImNvbnNlbnRUeXBlIjoiQ09ORElUSU9OQUxUUklHR0VSIiwiYWxsb3dOb3RHaXZlbkNvbnNlbnRzIjpmYWxzZSwiZG91YmxlT3B0SW4iOmZhbHNlLCJwdXJwb3NlcyI6W3siaWQiOiI1MjhkZTE1MC1iNWYzLTQ2N2QtYmUxMS03NTc3NTY2MDEyMjQiLCJ2ZXJzaW9uIjoxLCJwYXJlbnRJZCI6bnVsbCwidG9waWNzIjpbXSwiY3VzdG9tUHJlZmVyZW5jZXMiOltdLCJlbmFibGVHZW9sb2NhdGlvbiI6ZmFsc2V9XSwibm90aWNlcyI6W10sImRzRGF0YUVsZW1lbnRzIjpbXSwiYXV0aGVudGljYXRpb25SZXF1aXJlZCI6ZmFsc2UsInJlY29uZmlybUFjdGl2ZVB1cnBvc2UiOmZhbHNlLCJvdmVycmlkZUFjdGl2ZVB1cnBvc2UiOnRydWUsImR5bmFtaWNDb2xsZWN0aW9uUG9pbnQiOmZhbHNlLCJhZGRpdGlvbmFsSWRlbnRpZmllcnMiOltdLCJtdWx0aXBsZUlkZW50aWZpZXJUeXBlcyI6ZmFsc2UsImVuYWJsZVBhcmVudFByaW1hcnlJZGVudGlmaWVycyI6ZmFsc2UsInBhcmVudFByaW1hcnlJZGVudGlmaWVyc1R5cGUiOm51bGwsImFkZGl0aW9uYWxQYXJlbnRJZGVudGlmaWVyVHlwZXMiOltdLCJlbmFibGVHZW9sb2NhdGlvbiI6ZmFsc2V9.g2zafM0cd3qCeVZEXR1AzZfFL6n277n8xPRxGaIUi5oIRoyeDH5ESKvbXT1b4wN1pVzTXZJIl2TKXfHOxzhszfA7oX0gUoYsV6xw_GQIUkF4m8Qly_Pv8r_A0XK4QgvH5iCKcfTmNxOBXRF8vcPj8kT5Rh8G7RsuR6o1rfWBg4IaLPfG3ip7xMo8p2Z4elL3hcTi8dsEJkdSbxyugVOyqydo7Djibq5AtX4l4tI5cWRlf1eG5F1Gr9yBcCzeHl3O-mPx3j344PGgz-AYixQpWhztFUJa13NaD4gycCqNiDbeHqQ16U-696E8lM7uUJ3921qDQQoSAqV6uDnELYHuCi27VDYM8RCzaq9zloWs8G5bSRPSbHIP-YvJUKdHrzjT8_B7ZDBG1efnqMcrqMrQHErG2yDVD_DhlDBLwpokkWpmt3ryYvn9jd4Tk615J73Mxpxu2NpaXnuaothZSXRXIxL7BYUP-PS5y2edp18SKS7eXOWrU0ahEPXKKWhIfXVE7t_PSER8ZO-E-8oLtzMHfbK2bRIS44N37yUGEpmd8Th6ovZiQvTtxBkC0dJbd0FGM4su7NRXyoNY_8dHbXGc9GC1M9P54Ke4pyFfVKrcD4spavrSj2wxiqToTPFpaeFxK8XJn9xENM3_ATJhGpW19CayJm2sesiqaambsymutsk\"';\nlet preferences = '\"purposes\": [{\"Id\": \"528de150-b5f3-467d-be11-757756601224\",\"TransactionType\": \"WITHDRAWN\"}]';\n\nif (window.electroPrivacyStaging || isNonProduction()) {\n    url = ' https://privacyportaluat.onetrust.com/request/v1/consentreceipts';\n    token =\n        '\"eyJhbGciOiJSUzUxMiJ9.eyJvdEp3dFZlcnNpb24iOjEsInByb2Nlc3NJZCI6IjBkZjc2NTAwLWRmNWEtNGQzMC1hOTFhLWFjZmMyMzAyZTFhNyIsInByb2Nlc3NWZXJzaW9uIjoxLCJpYXQiOiIyMDIyLTA5LTI2VDAzOjMyOjIxLjE2NyIsIm1vYyI6IkFQSSIsInBvbGljeV91cmkiOm51bGwsInN1YiI6IkVtYWlsIiwiaXNzIjpudWxsLCJ0ZW5hbnRJZCI6ImM1NzQ2ZTQzLWQyMjItNGI3ZS04ZjRkLTJiNzkzYjViZmFjZiIsImRlc2NyaXB0aW9uIjoiTi9BIiwiY29uc2VudFR5cGUiOiJDT05ESVRJT05BTFRSSUdHRVIiLCJhbGxvd05vdEdpdmVuQ29uc2VudHMiOmZhbHNlLCJkb3VibGVPcHRJbiI6ZmFsc2UsInB1cnBvc2VzIjpbeyJpZCI6IjljYjc2Yjk0LTY3NjYtNGY1MS04ZjRiLTFmNTE4YWNkZDE2NSIsInZlcnNpb24iOjIsInBhcmVudElkIjpudWxsLCJ0b3BpY3MiOltdLCJjdXN0b21QcmVmZXJlbmNlcyI6W10sImVuYWJsZUdlb2xvY2F0aW9uIjpmYWxzZX1dLCJub3RpY2VzIjpbXSwiZHNEYXRhRWxlbWVudHMiOltdLCJhdXRoZW50aWNhdGlvblJlcXVpcmVkIjpmYWxzZSwicmVjb25maXJtQWN0aXZlUHVycG9zZSI6ZmFsc2UsIm92ZXJyaWRlQWN0aXZlUHVycG9zZSI6dHJ1ZSwiZHluYW1pY0NvbGxlY3Rpb25Qb2ludCI6ZmFsc2UsImFkZGl0aW9uYWxJZGVudGlmaWVycyI6W10sIm11bHRpcGxlSWRlbnRpZmllclR5cGVzIjpmYWxzZSwiZW5hYmxlUGFyZW50UHJpbWFyeUlkZW50aWZpZXJzIjpmYWxzZSwicGFyZW50UHJpbWFyeUlkZW50aWZpZXJzVHlwZSI6bnVsbCwiYWRkaXRpb25hbFBhcmVudElkZW50aWZpZXJUeXBlcyI6W10sImVuYWJsZUdlb2xvY2F0aW9uIjpmYWxzZX0.MsM-CdCqBswZHRwR4N_E-RxcHlu368mLb9hIMUJTZ3U5FJMtdIQGr_AmqR5ik6Bx9RedlEZ87Kq8P9-dvPprz0OlHRPZeq-I56khj-C6lvB348mdM_Zr0V-nsBiX72wv6piNWqDJ6cogQRO_92QXZgjrbZYTHKrN5g2VxXqkJrKTQP9OfbIwfnTuK8W37jeLVcWh5KFVGtSC0Wgq64B1VnzwUpn3OGDmWLPp0rjqbE57kqy6eY6fX4d8mulZUpFH8lEqZ8i-xACXmze8lMBuijN26UI2PY6CL1KKfksNIXa9I4I43NBj5AIiaWDioUaQzAZZrqkxKRJGyY7mYbEcxFji5w8kPSfbMBnoRDHF9djVQdQ-gIcFwD_xn1m6NvgmWqeo-vZABn5s7Kg24nS_2Bb7TKk-b5-mrydpE5jMt85kawRCH7tue4F94Y--84ug64FU0cHafB9Byobw-ZCDQQ7Ua8AZVHIIqxDVzK-QZQSSF3OgBoDfhu1-1cM0yTGFDAkCXC7z1aEg2dTyQkG1jF-JEE2pF-jpDSi9hN9A5BRtG8Wh42E4MEj3Xo97y-8Xdnd0V61WDWaLSgVPUclMYdOyTBp_6_QESXqwEraMP6MGubqV_-Br4lbUVkkggvBARx6k46wPke-0u3NrWwgks627GS1DoO349dlVw2YT-YA\"';\n    preferences = '\"purposes\": [{\"Id\": \"9cb76b94-6766-4f51-8f4b-1f518acdd165\",\"TransactionType\": \"WITHDRAWN\"}]';\n}\n\n// check url against known list of non-production environments\nfunction isNonProduction()\n{\n    const testList = [\n        'lndo.site',\n        'pantheonsite',\n        'staging',\n        'qa',\n        'dev',\n        'local',\n    ];\n    const serverName = location.host;\n    if (testList.some(testString => serverName.includes(testString))) {\n        return true;\n    }\n    return false;\n}\n\n// Purpose Ids Assigned to Collection Point\n\n// make POST call to hit collection point\nfunction setPreferences(otDataSubjectId) {\n    // set above based on production or staging\n    // preferences = '\"purposes\":[{\"Id\":' + purpose1 + ',\"TransactionType\": \"OPT_OUT\"}]';\n    // preferences = '\"purposes\": [{\"Id\": \"528de150-b5f3-467d-be11-757756601224\",\"TransactionType\": \"WITHDRAWN\"}]';\n\n    const body = `{\"identifier\":\"${otDataSubjectId}\",\"requestInformation\":${token},${preferences}}`;\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', url);\n    xhr.setRequestHeader('Content-Type', 'application/json');\n    xhr.send(body);\n    //console.log(body);\n}\n\nconst re =\n    /^(([^<>\\(\\)\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>\\(\\)\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n// email format validation\nfunction validateEmail(email) {\n    return re.test(String(email).toLowerCase());\n}\n\n// if email input is valid, trigger submitPreferences function and disable text input field and submit button\nfunction inputValidation() {\n    const emailInputValue = document.getElementById('ot-email').value;\n    const textInput = document.getElementById('ot-email');\n\n    if (validateEmail(emailInputValue)) {\n        // console.log(`email returned valid; emailInputValue = ${emailInputValue}`);\n        submitPreferences();\n        textInput.disabled = true;\n        document.getElementById('ot-dns-submit').disabled = true;\n\n        const confirmSubmit =\n            '<div id=\"ot-submit-text\" style=\"display: inline; margin-left: 10px !important;\">Successfully Submitted!</div>';\n        const otEmailSubmit = document.querySelectorAll('#ot-email-submit #ot-dns-submit')[0];\n        otEmailSubmit.insertAdjacentHTML('afterend', confirmSubmit);\n    } else {\n        //console.log(`function returned false; emailInputValue = ${emailInputValue}`);\n        //console.log('invalid email');\n    }\n}\n\n// grab email input value and trigger API POST\nfunction submitPreferences() {\n    // grab value from email form field\n    otDataSubjectId = document.getElementById('ot-email').value;\n\n    if (otDataSubjectId === '') {\n        console.error('Identifier Not Set');\n    }\n    // else if(OnetrustActiveGroups === \",,\" && saveButtonClicked === false){\n    //    console.warn(\"New Preferences Set\")\n    //    setTimeout(setPreferences,100);\n    // }\n    else {\n        setTimeout(setPreferences(otDataSubjectId), 100);\n    }\n}\n\n// when clicking on \"Do Not Share\" footer link:\n// - hide cookie categories BESIDES targeting\n// - show email input DIV\n// - simulate click on Targeting to toggle off (may be removed depending on Clorox decision about UX)\nfunction doNotShareUI() {\n    // let stockText = document.getElementById(\"stock-text\");\n    const stockText = document.getElementById('ot-pc-desc');\n    const dnsText = document.getElementById('dns-custom-text');\n    const essentialCat = document.querySelectorAll(\n        \"div.ot-cat-item.ot-always-active-group[data-optanongroupid='C0001']\"\n    )[0];\n    const performanceCat = document.querySelectorAll(\"div.ot-cat-item[data-optanongroupid='C0002']\")[0];\n    const functionalCat = document.querySelectorAll(\"div.ot-cat-item[data-optanongroupid='C0003']\")[0];\n    const closeBtn = document.getElementById('close-pc-btn-handler');\n    const paidMarketingText = document.getElementById('ot-email-text');\n    const emailInput = document.getElementById('ot-email-submit');\n    const pcCatTitle = document.getElementById('ot-category-title');\n    const catDescription = document.getElementById('ot-desc-id-C0004');\n    const pcTitle = document.getElementById('ot-pc-title');\n    pcTitle.textContent = getLanguageString('Privacy Choices');\n\n    stockText.style.display = 'none';\n    dnsText.style.display = 'block';\n    paidMarketingText.style.display = 'block';\n    emailInput.style.display = 'block';\n    essentialCat.style.display = 'none';\n    performanceCat.style.display = 'none';\n    functionalCat.style.display = 'none';\n    closeBtn.style.display = 'none';\n    pcCatTitle.style.display = 'none';\n    catDescription.style.display = 'none';\n\n    // make sure On/Off text is displayed properly\n    document.querySelectorAll('#ot-group-id-C0004')[0].dispatchEvent(new Event('change'))\n    document.getElementById('ot-checkbox-status').style.display = 'position: relative; top: -5px; display: inline-block; margin-left: 5px;';\n\n    dnsUI = true;\n}\n\n// reverse everything from doNotShareUI function once clicking of CTA\nfunction hideDnsUI() {\n    if (dnsUI) {\n        // let stockText = document.getElementById(\"stock-text\");\n        const stockText = document.getElementById('ot-pc-desc');\n        const dnsText = document.getElementById('dns-custom-text');\n        const essentialCat = document.querySelectorAll(\n            \"div.ot-cat-item.ot-always-active-group[data-optanongroupid='C0001']\"\n        )[0];\n        const performanceCat = document.querySelectorAll(\"div.ot-cat-item[data-optanongroupid='C0002']\")[0];\n        const functionalCat = document.querySelectorAll(\"div.ot-cat-item[data-optanongroupid='C0003']\")[0];\n        const closeBtn = document.getElementById('close-pc-btn-handler');\n        const paidMarketingText = document.getElementById('ot-email-text');\n        const emailInput = document.getElementById('ot-email-submit');\n        const pcCatTitle = document.getElementById('ot-category-title');\n        const catDescription = document.getElementById('ot-desc-id-C0004');\n        const pcTitle = document.getElementById('ot-pc-title');\n\n        const toggleTextContainer = document.getElementById('ot-checkbox-status');\n        toggleTextContainer.style.display = 'none';\n\n        pcTitle.style.textAlign = 'center';\n        stockText.style.display = 'block';\n        dnsText.style.display = 'none';\n        paidMarketingText.style.display = 'none';\n        emailInput.style.display = 'none';\n        essentialCat.style.display = 'block';\n        performanceCat.style.display = 'block';\n        functionalCat.style.display = 'block';\n        closeBtn.style.display = 'block';\n        pcCatTitle.style.display = 'block';\n        catDescription.style.display = 'block';\n    }\n\n    dnsUI = false;\n}\n\n// adding click event listeners to email submit button in DNS UI and CTAs\nlet domCheckInterval = setInterval(dnsCheck, 100);\nfunction dnsCheck() {\n    try {\n        // verify UI has been added to document\n        if (document.getElementById('do-not-share') && document.getElementById('ot-email') && document.getElementById('ot-dns-submit')) {\n            // add pattern to email input\n            document.getElementById('ot-email').pattern = re;\n            document.getElementById('ot-email').setCustomValidity(getLanguageString('Please enter a valid email.'));\n\n            document.getElementById('ot-dns-submit').addEventListener('click', inputValidation);\n\n            // add handling for buttons being recreated (dtc shop)\n            document.addEventListener('click', function (e) {\n                const sdkButton = document.getElementById('ot-sdk-btn');\n                const dnsButton = document.getElementById('do-not-share');\n                if (e.target && e.target.id === 'ot-sdk-btn' || sdkButton && sdkButton.contains(e.target)) {\n                    hideDnsUI();\n                } else if (e.target && e.target.id === 'do-not-share' || dnsButton && dnsButton.contains(e.target)) {\n                    doNotShareUI();\n                }\n            }, {\n                capture: true\n            })\n\n            /*\n            document.getElementById('do-not-share').addEventListener('click', doNotShareUI);\n            document.getElementById('ot-sdk-btn').addEventListener('click', hideDnsUI);\n             */\n\n            // ot banner link\n            if (document.getElementById('onetrust-pc-btn-handler')) {\n                document.getElementById('onetrust-pc-btn-handler').addEventListener('click', hideDnsUI);\n            }\n\n            // ESC key handling to close\n            //  Needed with onetrust-banner-sdk changes in\n            //  v202304.1.0 - which can remove keyboard handler when cookies popup closes\n            document.addEventListener('keydown', function (e) {\n                if ('Escape' === e.code) {\n                    // click dialog close button\n                    const close = document.getElementById('close-pc-btn-handler');\n                    if (close) {\n                        close.click();\n                    }\n                }\n            });\n\n            // listen for styled checkbox state\n            document.querySelectorAll('#ot-group-id-C0004')[0].addEventListener('change', function () {\n                document.getElementById('ot-checkbox-status').textContent = this.checked ? getLanguageString('On') : getLanguageString('Off');\n            });\n\n            clearInterval(domCheckInterval);\n            domCheckInterval = null;\n        }\n    } catch (error) {\n        console.error(\"failure to init electro-privacy\", error);\n        clearInterval(domCheckInterval);\n        domCheckInterval = null;\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// load language support & determine lang based on url\nimport {getLanguageString} from \"./language-support\";\n\n\nlet dsIdSet = false;\nasync function OptanonWrapperLocal() {\n    window.dataLayer.push({\n        event: 'OneTrustGroupsUpdated',\n        OneTrustActiveGroups: window.OnetrustActiveGroups,\n    });\n\n    if (dsIdSet == false) {\n        const emailTitle = getLanguageString('Behavioral Advertising Linked To Your Email Address:');\n        const emailBlock = getLanguageString('emailTextBlock');\n        const emailLabel = getLanguageString('Email:');\n        const submit = getLanguageString('Submit');\n        const emailInstructions = getLanguageString('Once you have made all of your elections, click “Save Settings” to save your settings and close the window.');\n        const deletionRequests = getLanguageString('Deletion, Access, Or Correction Requests');\n        const deletionTextBlock1 = getLanguageString('deletionTextBlock1');\n        const deletionTextBlock2 = getLanguageString('deletionTextBlock2');\n\n        const otEmailHTML = `\n            <hr/>\n            <div id=\"ot-email-text\" style=\"padding-top: 20px; display: none\">\n                <h3 style=\"font-size: 15px !important;\">${emailTitle}</h3>\n                <br/>\n                <p>${emailBlock}</p>\n                <form id=\"ot-email-submit\" style=\"padding-top: 20px;\" onsubmit=\"return false;\">\n                    <label for=\"ot-email\">${emailLabel}\n                        <input type=\"email\" style=\"border: 1px solid #000 !important;\" id=\"ot-email\" name=\"ot-email\" required>\n                        <input type=\"submit\" style=\"border-radius: 4px; padding: 7px; border: 1px solid #000 !important;\" id=\"ot-dns-submit\" value=\"${submit}\">\n                    </label>\n                </form>\n                <br/>\n                <p>${emailInstructions}</p>\n                 <br/><br/>\n                <hr />\n                <h3 style=\"padding-top: 20px; font-size: 15px !important;\">${deletionRequests}</h3>\n                <br />\n                <p>${deletionTextBlock1}</p>\n                <br />\n                <p>${deletionTextBlock2}</p>\n            </div>\n        `;\n\n        const targetedAdsTitle = getLanguageString('Do Not Sell or Share for Targeted Advertising');\n        const targetedAdsTextBlock = getLanguageString('targetedAdsTextBlock');\n\n        const dnsCustomText = `\n            <div id=\"dns-custom-text\" style=\"display: none\">\n                <h3 style=\"padding-top: 20px; font-size: 15px !important;\">${targetedAdsTitle}</h3>\n                <br />\n                <p>${targetedAdsTextBlock}</p>\n            </div>\n        `;\n\n        const otEmailForm = document.querySelectorAll('.ot-sdk-row.ot-cat-grp')[0];\n        otEmailForm.insertAdjacentHTML('afterend', otEmailHTML);\n\n        const otDnsText = document.getElementById('ot-pc-desc');\n        otDnsText.insertAdjacentHTML('afterend', dnsCustomText);\n\n        // show \"on/off\" text near the toggle\n        const toggleTextContainer = document.createElement('div');\n        toggleTextContainer.setAttribute('id', 'ot-checkbox-status');\n        toggleTextContainer.setAttribute('style', 'position: relative; top: -5px; display: inline-block; margin-left: 5px;');\n        const insertAfterThis = document.querySelectorAll('[data-optanongroupid=\"C0004\"]')[0];\n        const toggleContainer = insertAfterThis.querySelector('.ot-tgl');\n        toggleContainer.appendChild(toggleTextContainer);\n\n        dsIdSet = true;\n\n        // import 2nd js file\n        await import(/* webpackMode: \"eager\" */ './ot-dns-script-2');\n    }\n}\n\n\n\n\n// removed global callback from ot library\n\n// wait for needed elements to be created in document\n// then do this init\nfunction checkBeforeInit() {\n    if (document.querySelectorAll('.ot-sdk-row.ot-cat-grp').length && document.getElementById('ot-pc-desc')) {\n        OptanonWrapperLocal();\n    } else {\n        setTimeout(checkBeforeInit, 100);\n    }\n}\nsetTimeout(checkBeforeInit, 100);\n"],"names":[],"sourceRoot":""}